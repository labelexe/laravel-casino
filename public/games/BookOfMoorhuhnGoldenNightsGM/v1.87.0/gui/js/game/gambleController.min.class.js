/**
 * class for handling the gamble mode of gamomat slotmachines
 * @copyright LoCoNET GmbH 2014-06-04
 */function GambleController(e){function W(e){if(e!="Card"&&e!="Ladder")return;var t=$(".gamble"+e+" .gambleWinBox .moneyText"),n=t.width(),r=$(".gamble"+e+" .gambleCollectBox .moneyText");r.width()>n&&(t=r,n=t.width());if(n>m){var i=$(".gamble"+e+" .moneyBoxValue");i.hasClass("smallFont")||(i.addClass("smallFont"),n=t.width());if(n>m){m=n<=g?n:g;var s=$(".gamble"+e+" .moneyBox");s.width(m+parseInt(s.find(".bgLeft").css("padding-left"))+parseInt(s.find(".bgRight").css("padding-right"))),$(".gamble"+e+" .moneyBox, .gamble"+e+" .moneyBox .moneyBoxValue").css("min-width",m+"px")}}}function X(e){b=e.history,y=!1,R=!1,U.hide(),$(".gambleCard .moneyBoxValue span.moneyText").show(),$(".gambleCard .moneyBoxValue span.emptyText").hide(),$(".gambleCardBack.backRed").hide().removeClass("hidden");if(!E){$(".gambleCard .gambleInfo.maxGambles").hide();var n=t.getMaxCardWin();n&&($(".gambleCard .gambleInfo.maxWin .value").html(displayMoney(n)),$(".gambleCard .gambleInfo.maxWin").show())}else S&&(S=!1,$(".gambleBox.gambleCard .gambleInfo.maxGambles").html(obj_lang.game_gamble_historyInfo.replace("5",E)));V(),e.onInited()}function V(e){e||($(".gambleCard .value_gambleBet span.moneyText span.value").html(displayMoney(p)),$(".gambleCard .value_gambleWin span.moneyText span.value").html(displayMoney(2*p)),$(".gambleCard .value_gambleCollect span.moneyText span.value").html(displayMoney(d))),W("Card");for(var t in b)$("#historyCard_"+t).removeClass().addClass("fl historyCard "+b[t]);y?($(".gambleCardFront").removeClass().addClass("gambleCardFront "+y).removeClass("hidden").show(),$(".gambleCardBack").hide(),Q(),p>0&&(e?(U.show(),z.show(),i.add("gambleCardWin",Y)):U.show())):J()}function J(){U.hide();for(var e in b)$("#historyCard_"+e).removeClass().addClass("fl historyCard "+b[e]);K()}function K(){if(!N)return!1;$(".gambleCardFront").hide().removeClass().addClass("gambleCardFront"),$(".gambleCardBack.backBlack").show(),$(".gambleCardBack.backRed").hide(),x=Date.now(),T=!0,i.add("cardPulse",G)}function Q(){x=0}function G(){if(!x)return!1;var e=Date.now();return x&&e>=x+N&&(T?$(".gambleCardBack.backRed").show():$(".gambleCardBack.backRed").hide(),x=e,T=!T),!0}function Y(){if(R)return q=!1,R=!1,U.css({opacity:1}),z.hide(),!1;var e=Date.now();q||(q=e);var t=(e-q)%500,n=0,r=0;return t<=250?(n=1,r=0):t<=500?(n=0,r=1):(n=1,r=0),U.css({opacity:n}),z.css({opacity:r}),!0}function Z(e){L=e.allStepValues,A=e;var t=$(".gambleLadder .ladderStepsBox");O={};for(var n in e.allStepValues){var r=t.find("#ladderStep-"+n);O[n]=r,e.allStepValues[n]!==!1&&r.html(displayMoney(e.allStepValues[n],!0))}A.winStep==k["drawOutSmall"]||A.winStep==k["drawOutBig"]?($(".gambleLadder .value_gambleWin").hide(),$(".gambleLadder .gambleWinBox .drawOutSign").show()):($(".gambleLadder .value_gambleWin span.moneyText span.value").html(displayMoney(e.allStepValues[e.winStep])),$(".gambleLadder .value_gambleWin:hidden").show(),$(".gambleLadder .gambleWinBox .drawOutSign:visible").hide()),$(".gambleLadder .moneyBoxValue span.moneyText").show(),$(".gambleLadder .moneyBoxValue span.emptyText").hide(),$(".gambleLadder .value_gambleBet span.moneyText span.value").html(displayMoney(p)),$(".gambleLadder .value_gambleCollect span.moneyText span.value").html(displayMoney(d)),W("Ladder"),j=!1,tt(),e.onInited()}function et(){O[A.currentStep].attr("class","shining darkText"),typeof A.showDisplayInfo=="function"&&A.showDisplayInfo(),A.winStep==k["drawOutSmall"]||A.winStep==k["drawOutBig"]?($(".gambleLadder .value_gambleWin").hide(),$(".gambleLadder .gambleWinBox .drawOutSign").show()):($(".gambleLadder .value_gambleWin span.moneyText span.value").html(displayMoney(L[A.winStep])),$(".gambleLadder .value_gambleWin:hidden").show(),$(".gambleLadder .gambleWinBox .drawOutSign:visible").hide()),A.currentStep==k["bigWin"]?($(".gambleLadder .moneyBoxValue span.moneyText").hide(),$(".gambleLadder .moneyBoxValue span.emptyText").show(),O[A.currentStep].attr("class","shining darkText"),l(),c(),r.play({playwhat:"gamWin",callbackTime:1200,callback:it})):($(".gambleLadder .value_gambleBet span.moneyText span.value").html(displayMoney(p)),o(),n.add({name:"ladderDelayBeforeShowSelectableSteps",time:800,func:tt})),W("Ladder")}function tt(){if(A===null)return;M={250:{},500:{}},M[250][A.winStep]="f-d",M[250].sound="ladderPingA",M[500][A.loseStep]="f-d",M[500].sound="ladderPingB",A.currentStep!=-1&&(M[250][A.currentStep]="s-d",M[500][A.currentStep]="s-d"),B=!0,st()}function nt(){f(),I=!0,c();var e=A.matchedDrawOut[k.drawOutSmall],t=e?k.drawOutSmall:k.drawOutBig;e?r.play({playwhat:"ladderDrawOutSmall"}):r.play({playwhat:"ladderDrawOutBig"}),M={100:{},200:{},300:{},400:{},500:{}},M[100][t]="s",M[300][t]="s",M[500][t]="s",F=rt,st()}function rt(){var e=A.matchedDrawOut[k.drawOutSmall],t=e?k.drawOutSmall:k.drawOutBig,n=e?[6,7,8,9,10,11]:[12,13,14],r=n.length,i=e?40:80,s=(r+1)*3,o={};for(var f=0;f<=s-1;f++){var l=f%(r+1);l?o[n[l-1]]="f":(o={},o[t]="s"),f&&(M[f*i]=$.extend({},o))}o={},e&&A.matchedDrawOut[k.drawOutBig]?(F=nt,o[k.drawOutBig]="s",M[s*i+500]=$.extend({},o)):(F=function(){I=!1,a(),A.currentStep<k.bigWin&&u(),et()},o[A.currentStep]="s-d",M[s*i+500]=$.extend({},o)),A.matchedDrawOut[t]=!1,st()}function it(){if(j)return;var e=[{frames:3,data:{}},{frames:4,data:{14:"s-d"}},{frames:4,data:{}},{frames:4,data:{14:"s-d"}},{frames:4,data:{}},{frames:4,data:{14:"s-d"}},{frames:5,data:{}},{frames:1,data:{0:"f",1:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:3,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{}},{frames:1,data:{0:"f",1:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:3,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{}},{frames:1,data:{0:"f",1:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:3,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:6,data:{1:"f",3:"f",5:"p",7:"f",9:"f",11:"p",13:"f"}},{frames:6,data:{0:"f",2:"f",4:"f",6:"f",8:"f",10:"f",12:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{5:"f",11:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{5:"f",11:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{2:"f",5:"p",8:"f",11:"p",14:"s-d"}},{frames:6,data:{1:"f",4:"f",7:"f",10:"f",13:"f"}},{frames:6,data:{0:"f",3:"f",6:"f",9:"f",12:"f"}},{frames:6,data:{5:"f",11:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{5:"f",11:"f",14:"s-d"}},{frames:1,data:{14:"s-d"}},{frames:1,data:{13:"f",14:"s-d"}},{frames:1,data:{12:"f",13:"f",14:"s-d"}},{frames:1,data:{11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{}},{frames:1,data:{0:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:1,data:{2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{6:"f",7:"f",8:"f"}},{frames:2,data:{7:"f"}},{frames:1,data:{6:"f",7:"f",8:"f"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",14:"s-d"}},{frames:2,data:{}},{frames:1,data:{0:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:1,data:{2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{6:"f",7:"f",8:"f"}},{frames:1,data:{7:"f"}},{frames:1,data:{7:"f",8:"f"}},{frames:1,data:{7:"f",8:"f",9:"f"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:1,data:{9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{12:"f",13:"f",14:"s-d"}},{frames:1,data:{13:"f",14:"s-d"}},{frames:1,data:{14:"s-d"}},{frames:2,data:{}},{frames:2,data:{14:"s-d"}},{frames:2,data:{13:"f",14:"s-d"}},{frames:2,data:{12:"f",13:"f",14:"s-d"}},{frames:2,data:{11:"p",12:"f",13:"f"}},{frames:2,data:{10:"f",11:"p",12:"f"}},{frames:2,data:{9:"f",10:"f",11:"p"}},{frames:2,data:{8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{0:"f",4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{0:"f",4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:4,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:8,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:8,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:4,data:{}},{frames:6,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{0:"f",4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{0:"f",4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{0:"f",4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{1:"f",2:"f",3:"f",7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{2:"f",3:"f",4:"f",8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{3:"f",4:"f",5:"p",9:"f",10:"f",11:"p"}},{frames:2,data:{4:"f",5:"p",6:"f",10:"f",11:"p",12:"f"}},{frames:2,data:{5:"p",6:"f",7:"f",11:"p",12:"f",13:"f"}},{frames:2,data:{6:"f",7:"f",8:"f",12:"f",13:"f",14:"s-d"}},{frames:2,data:{7:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:2,data:{8:"f",9:"f",10:"f",14:"s-d"}},{frames:2,data:{9:"f",10:"f",11:"p"}},{frames:2,data:{10:"f",11:"p",12:"f"}},{frames:2,data:{11:"p",12:"f",13:"f"}},{frames:2,data:{12:"f",13:"f",14:"s-d"}},{frames:2,data:{13:"f",14:"s-d"}},{frames:2,data:{14:"s-d"}},{frames:2,data:{}},{frames:1,data:{13:"f",14:"s-d"}},{frames:1,data:{11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:6,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:1,data:{13:"f",14:"s-d"}},{frames:1,data:{11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:6,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{2:"f",3:"f",7:"f",8:"f",12:"f",13:"f"}},{frames:6,data:{3:"f",4:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:6,data:{2:"f",3:"f",7:"f",8:"f",12:"f",13:"f"}},{frames:6,data:{3:"f",4:"f",8:"f",9:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:2,data:{0:"f",5:"p",11:"p"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",5:"p",6:"f",7:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",5:"p",6:"f",7:"f",8:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",11:"p",12:"f",13:"f"}},{frames:4,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:2,data:{0:"f",5:"p",11:"p"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",5:"p",6:"f",7:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",5:"p",6:"f",7:"f",8:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",11:"p",12:"f",13:"f"}},{frames:4,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{}},{frames:2,data:{0:"f",5:"p",11:"p"}},{frames:2,data:{0:"f",1:"f",5:"p",6:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",5:"p",6:"f",7:"f",11:"p"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",5:"p",6:"f",7:"f",8:"f",11:"p",12:"f"}},{frames:2,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",11:"p",12:"f",13:"f"}},{frames:4,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:1,data:{14:"s-d"}},{frames:1,data:{13:"f",14:"s-d"}},{frames:1,data:{12:"f",13:"f",14:"s-d"}},{frames:1,data:{11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:1,data:{1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:2,data:{}},{frames:1,data:{0:"f"}},{frames:1,data:{0:"f",1:"f"}},{frames:1,data:{0:"f",1:"f",2:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f"}},{frames:1,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f"}},{frames:4,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{0:"f-d",1:"f-d",2:"f-d",3:"f-d",4:"f-d",5:"f-d",6:"f-d",7:"f-d",8:"f-d",9:"f-d",10:"f-d",11:"f-d",12:"f-d",13:"f-d",14:"s-d"}},{frames:4,data:{}},{frames:6,data:{0:"f",1:"f",2:"f",3:"f",4:"f",5:"p",6:"f",7:"f",8:"f",9:"f",10:"f",11:"p",12:"f",13:"f",14:"s"}},{frames:10,data:{}}],t=0,n=0;for(var i in e)t+=e[i].frames,n=Math.round(t*100/3),M[n]=e[i].data;F=function(){o(),r.playGeneric("takeWin")},r.stop("fg1"),r.play({playwhat:"ladderBigWinLoop",loop:!0,callback:function(){r.play({playwhat:"ladderBigWinEnd"})},callbackTime:"*4"}),st()}function st(){for(var e in M)D++,_.push(e);var t=function(){if(j){for(var e in O)O[e].attr("class","");return ot(),!1}P||(P=Date.now());var t=Date.now(),n=(t-P)%_[D-1],i=-1;for(var s=0;s<D;++s)if(_[s]>n){i=_[s];break}if(i==H)return!0;if(!B&&i==_[0]&&H==_[D-1])return ot(),!1;H=i;var o=M[i],u="";typeof o.sound!="undefined"&&r.play({playwhat:o.sound});for(var e in O){u="";if(typeof o[e]!="undefined"){var a=o[e].split("-");a[0]=="s"?u+="shining":a[0]=="f"?u+="flashing":a[0]=="p"&&(u+="party"),a[1]=="d"&&(u.length!=0&&(u+=" "),u+="darkText"),O[e].attr("class",u)}else O[e].attr("class",u)}return!0};i.add("gambleLadderSteps",t)}function ot(){_=[],P=!1,H=-1,D=0,B=!1,j=!1,M={},F!==null&&F()}var t=this,n=null,r=null,i=null,s={},o=null,u=function(){},a=function(){},f=function(){},l=function(){},c=function(){},h=!1,p=0,d=0,v=0,m=0,g=0,y=!1,b=null,w=0,E=0,S=!0,x=0,T=!0,N=167,C=0,k={drawOutSmall:5,drawOutBig:11,bigWin:14},L=null,A=null,O=!1,M={},_=[],D=0,P=!1,H=-1,B=!1,j=!1,F=null,I=!1,q=!1,R=!1,U=$(".gambleWinSign"),z=$(".gambleWinSignBig");(function(e){n=Timer_getInstance(),r=e.sound,i=e.animManager})(e),this.processGambleCardResult=function(e){U.hide();var t=!1;p=e.bet,y=e.card,d=e.collectedWin,b=e.history;var i=function(){$(".gambleButton").addClass("inactive"),r.stop("fg1"),n.add({name:"afterShowGambleResult",time:t?26100:p==0?1e3:2500,func:function(){o(),t&&r.playGeneric("takeWin")}}),e.showDisplayInfo(),V(t),t&&c()},s=function(){r.play({playwhat:"ladderBigWinLoop",loop:!0,callback:function(){r.play({playwhat:"ladderBigWinEnd"})},callbackTime:"*4"}),t=!0,i()};typeof e.quitGamble!="undefined"&&e.quitGamble||E&&e.actGamble>=E||p==0?p==0?(r.play({playwhat:"gamLoose"}),i()):(r.stop("fg1"),r.play({playwhat:"gamWin",callback:s}),V(),$(".gambleCard .moneyBoxValue span.moneyText").hide(),$(".gambleCard .moneyBoxValue span.emptyText").removeClass("hidden").show(),e.showDisplayInfo()):(r.play({playwhat:"gamWin",callback:function(){J(),r.play({playwhat:"gamFlip"})}}),e.showDisplayInfo(),V(),o())},this.processGambleLadderResult=function(e){p=e.bet,A=e,F=function(){A.win?!A.matchedDrawOut[k.drawOutSmall]&&!A.matchedDrawOut[k.drawOutBig]&&A.currentStep!=k["bigWin"]&&r.play({playwhat:"gamWin"}):p==0?r.play({playwhat:"gamLoose"}):r.play({playwhat:"ladderFallDown"}),typeof A.quitGamble!="undefined"&&A.quitGamble||p==0?($(".gambleLadder .value_gambleWin span.moneyText span.value").html(displayMoney(0)),$(".gambleLadder .value_gambleBet span.moneyText span.value").html(displayMoney(0)),l(),O[A.currentStep].attr("class","shining darkText"),r.stop("fg1"),setTimeout(o,1e3)):e.matchedDrawOut[k.drawOutSmall]||e.matchedDrawOut[k.drawOutBig]?nt():et()};if(n.has("ladderDelayBeforeShowSelectableSteps")){n.remove("ladderDelayBeforeShowSelectableSteps");for(var t in O)O[t].attr("class","");ot()}else j=!0},this.close=function(){i.resumeAll(),h?(L=null,A=null,F=null,j=!0,I=!1,r.getActiveSound("fg1")=="gambleLadderStarted"&&r.stop("fg1"),r.getActiveSound("fg2")=="ladderBigWinLoop"&&r.stop("fg2"),r.getActiveSound("fg2")=="ladderBigWinEnd"&&r.stop("fg2"),p||O[0].attr("class","")):(y=!1,b=null,R=!0,U.hide(),Q(),r.getActiveSound("fg1")=="gambleStarted"&&r.stop("fg1"),r.getActiveSound("fg2")=="gamWin"&&r.stop("fg2"),r.getActiveSound("fg2")=="ladderBigWinLoop"&&r.stop("fg2"),n.has("afterShowGambleResult")&&n.remove("afterShowGambleResult")),p=0,$(".gambleBox .moneyBoxValue").css("min-width","").removeClass("smallFont"),$(".gambleBox .moneyBox").css("width","")},this.addEventListener=function(e,t){s[e]=t},this.init=function(e){p=e.bet,d=typeof e.collectedWin!="undefined"?e.collectedWin:0;var t=$(".gambleContainer .moneyBoxValue");g=parseInt(t.css("max-width")),m=parseInt(t.css("min-width")),o=e.onFinishedRound,u=e.activateSplitWinButton,a=e.activateTakeWinButton,f=e.deactivateGreenButtons,l=e.deactivateLadderButton,c=e.unblockConsole,h=e.useGambleLadder,r.getActiveBGSound()=="ambiente"&&r.muteBgSound(!0),r.play({soundLine:"fg1",playwhat:h?"gambleLadderStarted":"gambleStarted",loop:!0}),i.pauseRegExp("animateMode1*"),i.pauseRegExp("animateMode2*"),i.pause("winline"),e.useGambleLadder?Z(e):X(e)},this.stopRunningDrawOutAnim=function(){return I?(F=function(){I=!1,a(),A.currentStep<k.bigWin&&u(),et()},j=!0,(r.getActiveSound("fg2")=="ladderDrawOutSmall"||r.getActiveSound("fg2")=="ladderDrawOutBig")&&r.stop("fg2"),!0):!1},this.splitCardWin=function(e){y=!1,p=e.bet,d=e.collectedWin,V(),r.play({playwhat:"splitWin"})},this.splitLadderWin=function(e){p=e.bet,A.currentStep=e.currentStep,A.winStep=e.winStep,A.loseStep=e.loseStep,$(".gambleLadder .value_gambleCollect span.moneyText span.value").html(displayMoney(e.collectedWin)),F=et;if(n.has("ladderDelayBeforeShowSelectableSteps")){n.remove("ladderDelayBeforeShowSelectableSteps");for(var t in O)O[t].attr("class","");ot()}else j=!0;r.play({playwhat:"splitWin"})},this.getMaxGambles=function(){return E},this.setMaxGambles=function(e){S=!0,E=e},this.getMaxBet=function(){return w},this.getMaxCardWin=function(){return 2*w},this.setMaxBet=function(e){w=e},this.getMaxLadderBet=function(){return L!==null?L[k.bigWin]:C},this.setMaxLadderBet=function(e){C=e}};