function SlotMachine(e){function Y(e,t){var n=function(){t(),e.bonusSymbol>=6&&e.bonusSymbol<=9&&$(".headlineContainer").addClass("fourLine")},s=r.getCachedImg("fgSymbolSmall"+e.bonusSymbol);$(".headlineContainer").append('<div class="fgBonusSymbol"><img src="'+s.src+'" alt="" /></div>'),l.sendRequest("getFGPayTable",{bonus:e.bonusSymbol});var u=$("#freegame_container");if(H&&p==1280)setTimeout(function(){a.addStartHypeListener(P,n);var t={1:"Sym_LV4",2:"Sym_LV3",3:"Sym_LV2",4:"Sym_LV1",5:"Sym_HV4",6:"Sym_HV2",7:"Sym_HV3",8:"Sym_HV1",9:"Sym_TOP"};i.start(t[e.bonusSymbol],P)},300);else{u.html('<div class="hidden" id="bookPictLayer"></div>');var f=$("#bookPictLayer"),c=r.getCachedImg("book");f.css({"background-image":"url("+c.src+")"}),f.fadeIn("slow",function(){f.append('<div class="hidden" id="chosenBonusSymbol"></div>');var t=$("#chosenBonusSymbol");c=r.getCachedImg(J.bonus[e.bonusSymbol]),t.css({"background-image":"url("+c.src+")","background-size":"contain"}),o.play({playwhat:"bookResult",soundLine:"fg1"}),t.fadeIn(2e3,function(){n(),f.remove(),t.remove()})})}}function Z(e,t){I&&(e=Date.now()-I);var n=0,r=300,i=700;e%=1e3,e<r?n=e/r:e>i?n=(1e3-e)/r:n=1;var s={};for(var o in t)s[t[o]]=n;return s}function et(){if(R)return!1;for(var e in z){U[e]||(U[e]=Date.now());var t=Date.now(),n=t-U[e];tt(n,e)}return!0}function tt(e,t){var n=250,r=100,i=200,s=n+r+i,o=0;e>=0&&e<=n?o=e/n:e>n&&e<=n+r?o=1:e>n+r&&e<=s?o=(s-e)/i:o=0,z[t].css({opacity:o})}function nt(){i=new HypeManager({}),s=new PixiManager({animManager:c}),$("#loading .progress").html("100%"),$("#loading .state").show(),obj_restHandler.requestInit()}function rt(e){obj_restHandler.processResponse(e);if(typeof e.initData!="undefined"){typeof e.initData.reeltiming=="string"&&(g=e.initData.reeltiming),obj_restHandler.onSoundLoaded(e.initData.sound),u=new WinLines({cache:r,devConf:t,slotConf:n,animManager:c,bigSymbol:"/scatter_small.png"}),a=new FreeGame({conf:n,devConf:t,sound:o,hype:i,getReelIdx:u.getReelIdx,scatter:10,animBG:"scatterBonus",animFG:"scatterBonus",startPauseCallback:Y,useOptimalAnim:!0,spinAfterIntro:function(){obj_console.clickButton("spin",{noSound:!0})},animManager:c,pixiManager:s,lang:A}),f=new ReelEngine({sound:o,cache:r,conf:t,animManager:c,container:"reel_hype_container",size:{w:n.size("sW"),h:n.size("sH")},reelSpace:n.size("sp"),scatter:["/symbol-scatter.png","/symbol-m-scatter.png"],scatterParams:{h:n.size("scH")+"px",m:n.size("scO")+"px"},speed:n.speed(g),rows:n.rows(),symbols:["/symbol-j.jpg","/symbol-q.jpg","/symbol-k.jpg","/symbol-a.jpg","/symbol-flower.jpg","/symbol-vase.jpg","/symbol-staebe.jpg","/symbol-mummy.jpg","/symbol-explorer.jpg","/symbol-scatter.png","/symbol-fg-j.jpg","/symbol-fg-q.jpg","/symbol-fg-k.jpg","/symbol-fg-a.jpg","/symbol-fg-flower.jpg","/symbol-fg-vase.jpg","/symbol-fg-staebe.jpg","/symbol-fg-mummy.jpg","/symbol-fg-explorer.jpg","/symbol-s-j.jpg","/symbol-s-q.jpg","/symbol-s-k.jpg","/symbol-s-a.jpg","/symbol-s-flower.jpg","/symbol-s-vase.jpg","/symbol-s-staebe.jpg","/symbol-s-mummy.jpg","/symbol-s-explorer.jpg","/symbol-m-j.jpg","/symbol-m-q.jpg","/symbol-m-k.jpg","/symbol-m-a.jpg","/symbol-m-flower.jpg","/symbol-m-vase.jpg","/symbol-m-staebe.jpg","/symbol-m-mummy.jpg","/symbol-m-explorer.jpg","/symbol-m-scatter.png"],fakeReels:K,fakeReelSymbols:J,fakeCriticalSymbols:Q}),f.init(),obj_anim=new SlotMachineAnim({hype:i,sound:o,cache:r,conf:n,devConf:t,winLines:u,reelEngine:f,animManager:c,freeGame:a,winanim:m,linepings:!0,stamping:!0,ambienteSound:!1,scatterForFreeGames:10,symbolTeaserAnimDuration:1e3,symbolTeaserOptAnimDuration:600,symbolTeaserAnim:!0,animations:d,playFreegameIntro:!0,optimalSlotAnimations:B,calcOptimalSlotAnimOpacity:Z,optimalSlotBigAnimData:{scatterWild:{h:n.size("scH")+"px",o:n.size("scO")+"px"},scatterBonus:{h:n.size("scH")+"px",o:n.size("scO")+"px"}},symbols:J,stampAnims:{1:"stampSymbolWin1",2:"stampSymbolWin2",3:"stampSymbolWin3",4:"stampSymbolWin4",5:"stampSymbolWin5",6:"stampSymbolWin6",7:"stampSymbolWin7",8:"stampSymbolWin8",9:"stampSymbolWin9"},useStampAnimsForOptSlot:!0,ownFunctions:{rss:function(e){var i=e.actReel,s=e.playAnim,a=_?"reelstop":"reelstop"+(i+1),f=e.symbolTeaserPos;if(f[i]){var l=f[i][0],h=1;for(var p=0;p<i;++p)f[p]&&f[p][0]==l&&++h;o.play({playwhat:"symbolTeaser"+l+"x"+h,soundLine:h==1?"fg2":"fg1"});if(t.playSymbolAnims())s("symbolTeaser"+l,[{x:n.size("sWs")*i,y:n.size("sH")*(f[i][1]-1),elem:"#reel_"+u.getReelIdx(i)+"_"+(n.rows()+1-f[i][1])}],{loop:!1});else{$("#symbolTeaserContainer").length||$("._wlid_animBox").before('<div id="symbolTeaserContainer"></div>');var d=$("#symbolTeaserContainer"),v=$('<div class="teaserSymbol"</div>');d.append(v);var m=r.getCachedImg("scatterTeaserGlow");z.push(v);var g=n.size("sWs")*i-1,y=n.size("sH")*(f[i][1]-1)+n.size("scO");v.css({left:g,top:y,height:n.size("scH"),"background-image":"url("+m.src+")",opacity:0}),R=!1,U[0]||c.add("bookMoorhuhnIIScatterTeaser",et)}e.setTeaserPlaying(l)}else o.play({playwhat:a,soundLine:"fg1"})},bss:function(){R=!0,U=[],z=[],$("#symbolTeaserContainer").html("")},ofge:function(e){var t=r.getCachedImg("fgSymbolSmall"+e);$(".headlineContainer").append('<div class="fgBonusSymbol"><img src="'+t.src+'" alt="" /></div>'),e>=6&&e<=9&&$(".headlineContainer").addClass("fourLine"),l.sendRequest("getFGPayTable",{bonus:e})},gbp:function(e){if(e.winLine){var t={},n=u.getPosition(e.winLine,e.reel)+1;if(e.frp[n-1]==10)return e.frp[n+1]==10?(t[e.reel+1]=r.getCachedImg("symBlendTopBottom"),t):(t[e.reel+1]=r.getCachedImg("symBlendTop"),t);if(e.frp[n+1]==10)return t[e.reel+1]=r.getCachedImg("symBlendBottom"),t}return!1}}}),obj_restHandler.enableManualReels({halfsize:t.mode("r"),rows:n.rows(),reelSymbols:J,anim:obj_anim,reelEngine:f,hasFirepot:O}),obj_console=new OnlineConsole({devConf:t,sound:o,animManager:c,onMoneySet:obj_restHandler.onMoneySet,spacebarActivated:e.initData.spaceBar,quickSpin:e.initData.quickSpin,leftHandMode:e.initData.leftHandMode,featureCountdown:e.initData.featureCountdown,requestSender:l.sendRequest,featureCountdownType:O?"feature":"freegame",bottomNotClickable:!t.isBottomAreaClickable(),alwaysShowVersionAndSlotname:x,numInputTypeForMobile:t.getNumericInputTypeForMobile(),highlightJackpotBet:N}),obj_slotmachineController=new SlotmachineController({requestSender:l.sendRequest,console:obj_console,anim:obj_anim,sound:o,loader:r,devConf:t,animManager:c,pixiManager:s,restHandler:obj_restHandler,layout169:v,hasPauseInFreegameIntro:!0,requestFGBonusSymbol:!0,ambienteSound:!1,rulesURL:y,rulesJSLoader:b,loadRulesInClient:w,onPending:E,reeltiming:g,startFullScreen:W,stopFullScreen:X,enabledFullScreen:V,jackpotType:O,highlightJackpotBet:N,showInfoDuringJackpotChance:C,jackpotAssetPath:M,introVoiceSound:D,hasBetChangeLoops:T,startGameRound:k,finishGameRound:L,useFakeReels:!0}),obj_restHandler.addCallbacks({deactivateAutoSpin:obj_console.stopAutospin,setLineBets:function(e){obj_slotmachineController.display([{type:"possLinebets",value:e}])},abortWinAnim:function(){obj_console.clickButton("abortwinanim")},getState:obj_console.getState,pauseSlot:obj_slotmachineController.pauseSlot,resumeSlot:obj_slotmachineController.resumeSlot,afterFreeRoundsIntro:obj_slotmachineController.onFreeRoundsIntroClose,ignoreUserInput:obj_console.ignoreUserInput});var j=function(){obj_slotmachineController.init(e.initData),u.onInitialized({attention:e.initData.attentionSpin}),obj_restHandler.onSMReady(),S&&S()},F=function(){s.load({name:"GenericSign",divID:"pixi_container",callback:j})},I=2,q=t.useCoinShowers()?I:--I;q=H?I:--I,q>0?(i.addListener({type:i.onDocumentLoaded,callback:function(){h++,h==q&&(i.onInitialized(),F())}}),t.useCoinShowers()&&i.load({name:m}),H&&(p==1280?i.load({name:P}):h++)):F()}typeof e.display!="undefined"&&obj_slotmachineController&&obj_slotmachineController.display(e.display);if(typeof e.fgPayTable!="undefined"&&e.fgPayTable){$(".headlineContainer").append(e.fgPayTable),$(".fgPayTable .fgWinValue").each(function(){var e=$(this),t=e.attr("id"),n=t.split("-")[1],r=e.find(".multiplicator");r.html(obj_lang["game_paytable_mult"+n]).addClass("multiplicatorTextEffect")});var G=$(".headlineContainer .fgPayTable").width(),tt=.73*G,nt=$(".headlineContainer .fgPayTable .fgWinValue .winValueText"),rt=nt.first().width();if(rt>tt){var it=parseInt(nt.css("font-size")),st=parseInt(tt/rt*it);nt.each(function(){$(this).css("font-size",st+"px"),$(this).prepend('<span class="fontsizeFaker" style="font-size:'+it+'px"></span>')})}}}var t,n,r,i,s,o,u,a,f,l,c,h=0,p=!1,d=null,v=!1,m="winanim",g="normal",y=!1,b=null,w=!1,E=null,S=null,x=!1,T=!0,N=!1,C=!1,k=null,L=null,A="en",O=!1,M=null,_=!1,D="introVoice",P="bmnfreegame",H=!0,B=["scatterWild","scatterBonus","symbolWin1BG","symbolWin2BG","symbolWin3BG","symbolWin4BG","symbolWin5BG","symbolWin6BG","symbolWin7BG","symbolWin8BG","symbolWin9BG","symbolWin1FG","symbolWin2FG","symbolWin3FG","symbolWin4FG","symbolWin5FG","symbolWin6FG","symbolWin7FG","symbolWin8FG","symbolWin9FG","stampSymbolWin1","stampSymbolWin2","stampSymbolWin3","stampSymbolWin4","stampSymbolWin5","stampSymbolWin6","stampSymbolWin7","stampSymbolWin8","stampSymbolWin9"],j=!1,F=!1,I=!1,q=null,R=!0,U=[],z=[],W=null,X=null,V=null,J={base:{1:"/symbol-j.jpg",2:"/symbol-q.jpg",3:"/symbol-k.jpg",4:"/symbol-a.jpg",5:"/symbol-flower.jpg",6:"/symbol-vase.jpg",7:"/symbol-staebe.jpg",8:"/symbol-mummy.jpg",9:"/symbol-explorer.jpg",10:"/symbol-scatter.png",winLines:{10:"/scatter_small.png"}},free:{1:"/symbol-fg-j.jpg",2:"/symbol-fg-q.jpg",3:"/symbol-fg-k.jpg",4:"/symbol-fg-a.jpg",5:"/symbol-fg-flower.jpg",6:"/symbol-fg-vase.jpg",7:"/symbol-fg-staebe.jpg",8:"/symbol-fg-mummy.jpg",9:"/symbol-fg-explorer.jpg",10:"/symbol-scatter.png",winLines:{10:"/scatter_small.png"}},bonus:{1:"/symbol-s-j.jpg",2:"/symbol-s-q.jpg",3:"/symbol-s-k.jpg",4:"/symbol-s-a.jpg",5:"/symbol-s-flower.jpg",6:"/symbol-s-vase.jpg",7:"/symbol-s-staebe.jpg",8:"/symbol-s-mummy.jpg",9:"/symbol-s-explorer.jpg"},monochrome:{1:"/symbol-m-j.jpg",2:"/symbol-m-q.jpg",3:"/symbol-m-k.jpg",4:"/symbol-m-a.jpg",5:"/symbol-m-flower.jpg",6:"/symbol-m-vase.jpg",7:"/symbol-m-staebe.jpg",8:"/symbol-m-mummy.jpg",9:"/symbol-m-explorer.jpg",10:"/symbol-m-scatter.png"}},K={base:{a:[2,5,4,3,6,4,2,7,3,1,5,2,8,4,3,7,5,1,9,3,5,4,2,5,3,10,1,5,2,7,4,3,9,4,5,7,3,4,6,5,2,4,10,3,8,1,4,7,3,4,7,2,5,4,3,6],b:[8,4,5,2,6,4,1,6,2,4,8,3,1,4,5,2,1,4,2,1,4,6,2,1,4,9,3,2,1,6,2,1,7,2,1,3,10,1,2,4,3,2,5,1,2,8,4,5,2,6,4,1,6,2,4],c:[3,7,1,5,6,2,3,1,5,2,10,1,4,8,5,3,8,1,3,9,2,1,7,3,5,7,4,1,9,2,1,8,2,3,5,1,6,3,2,5,8,4,5,1,6,2,3,7,1,5,6,2,3,1,5],d:[4,7,1,5,3,2,6,3,4,8,1,2,3,7,1,5,3,2,10,1,4,9,1,3,8,5,7,4,2,9,1,3,7,4,5,7,3,4,10,3,5,4,3,1,8,4,6,5,2,6,4,7,1,4,3,2],e:[4,8,3,9,2,1,7,4,2,9,5,4,1,2,10,4,2,7,3,5,7,4,3,1,6,3,4,6,2,8,3,7,4,1,10,3,2,8,5,4,7,3,6,5,1,6,4,8,3,9,2,1,7,4,2,8,3,7,4,1,10,3,2,8,5,4,7,3,9,1,6,4,8,3]},free:{a:[4,5,3,4,5,2,8,4,2,9,4,5,7,1,10,4,6,2,8,4,3,1,5,2,8,3,1,10,4,2,8,3,5,6,3,2,7,4],b:[9,2,4,6,2,10,3,5,1,4,7,5,2,3,1,8,2,5,3,6,2,1,5,4,1,9,3,7,5,1,6,2,10,4,3,5,1,3],c:[2,10,1,4,2,8,1,3,7,4,5,2,9,3,1,9,4,2,3,7,2,4,6,5,3,9,4,5,3,8,4,5,2,4,1,5,2,10,2,4,6,7],d:[6,1,4,6,7,1,3,5,2,9,1,2,10,4,3,5,6,1,7,4,1,6,2,10,1,4,3,6,4,8,3,9,2,5,3,7,1,3],e:[3,7,4,6,8,1,9,3,6,1,10,4,8,3,5,7,1,5,2,10,3,4,8,2,5,7,4,9,2,7,1,9,2,6,1,8,5,3]}},Q=[9,10],G={1:"bonus_Sym_1",2:"bonus_Sym_2",3:"bonus_Sym_3",4:"bonus_Sym_4",5:"bonus_Sym_5",6:"bonus_Sym_6",7:"bonus_Sym_7",8:"bonus_Sym_8",9:"bonus_Sym_9"};this.onShutdown=function(){obj_restHandler.onCloseGame()},function(e){p=e.resolution,d=e.animationData,v=e.layout169,y=e.rulesURL,b=e.rulesJSLoader,typeof e.loadRulesInClient!="undefined"&&(w=e.loadRulesInClient),typeof e.onPending=="function"&&(E=e.onPending),typeof e.onLoaded=="function"&&(S=e.onLoaded),typeof e.lang!="undefined"&&(A=e.lang),typeof e.enforceVersion!="undefined"&&(x=e.enforceVersion),typeof e.hasBetChangeLoops!="undefined"&&(T=e.hasBetChangeLoops),typeof e.showExtraJackpotBet!="undefined"&&(N=e.showExtraJackpotBet),typeof e.showInfoDuringJackpotChance!="undefined"&&(C=e.showInfoDuringJackpotChance),typeof e.jackpotAssetPath!="undefined"&&(M=e.jackpotAssetPath),typeof e.startGameRound=="function"&&(k=e.startGameRound),typeof e.finishGameRound=="function"&&(L=e.finishGameRound),typeof e.startFullScreen=="function"&&(W=e.startFullScreen),typeof e.stopFullScreen=="function"&&(X=e.stopFullScreen),typeof e.enabledFullScreen=="function"&&(V=e.enabledFullScreen),t=new DeviceConfig({mode:e.mode}),typeof e.supressAutoFullscreen!="undefined"&&e.supressAutoFullscreen&&t.supressAutoFullscreenDetection(),n=new SlotConfig({devConfig:t,machine:"bookmoorhuhnii"}),_=t.useSmallSounds(),m=e.winanim+(t.useCoinShowers()==="optimal"?"opt":""),H=t.playSymbolAnims(),j=typeof e.winLines!="undefined"&&e.winLines?e.winLines:10,typeof e.reeltiming!="undefined"&&(g=e.reeltiming),c=new AnimManager,O=typeof e.jackpotType!="undefined"?e.jackpotType:!1;var i=A=="de"?"BOOK OF MOORHUHN":"BOOK OF CRAZY CHICKEN",s=O?"BookMoorhuhn":"BookMoorhuhnII";switch(O){case"firepot":i+=" RED HOT FIREPOT",s+="RHFP";break;case"goldennights":i+=" GOLDEN NIGHTS",s+="GoNi"}l=new Communicator({slotmachine:s,responseHandler:rt,slotConf:n,lablerEventManager:typeof e.lablerEventManager!="undefined"?e.lablerEventManager:!1}),obj_restHandler=new SMRestHandler({requestSender:l.sendRequest,isSoundSettable:e.isSoundSettable,clock:typeof e.showClock=="undefined"?!1:e.showClock,version:typeof e.showVersion=="undefined"?!1:e.showVersion,name:i,warnBrowser:t.showBrowserWarning(),onFatalError:typeof e.onFatalError=="undefined"?!1:e.onFatalError,lablerEventManager:typeof e.lablerEventManager!="undefined"?e.lablerEventManager:!1}),r=new GameLoader({height:n.size("h"),width:n.size("w"),devConf:t,restHandler:obj_restHandler,baseURL:typeof e.baseURL=="undefined"?"":e.baseURL}),obj_restHandler.isResizable()&&r.autofit(),e.lang=="de"&&(D="introVoice_ger");var u=obj_restHandler.getSoundFiles(e.soundFiles,_),a=0;for(var f in u)++a;r.preload({pictures:getPreloadImages(t,n,j,e.lang,O),onUpdate:typeof e.preload=="function"?e.preload:obj_restHandler.onPreloaderUpdate,onLoaded:nt,additionalCounter:a,lang:e.lang,resol:p}),o=obj_restHandler.loadSoundManager({soundVersions:t.getSoundVersions(),soundFiles:u,smallSounds:_,soundFileVersion:e.soundFileVersion,onProgress:r.onExternProgress}),hype_playBBBookResultSound=function(){o.play({soundLine:"fg1",playwhat:"bookResult"})},hype_playBBBookOpenSound=function(){o.play({soundLine:"fg1",playwhat:"bookOpen"})},hype_playBBSymbolAppersSound=function(){o.play({playwhat:"book"})}}(e)}var obj_restHandler,obj_anim,obj_console,obj_slotmachineController;