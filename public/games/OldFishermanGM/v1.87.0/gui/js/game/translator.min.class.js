/**
 * class for preparing data from the client-server-communication for working with the system
 * @copyright LoCoNET GmbH 2015-03-09
 */function Translator(){var e=0,t=0,n=!1;(function(){})(),this.encode=function(r,i,s){var o=[];switch(r){case"init":n=s,o.push({type:"request",action:r,data:loadVars(i)});break;case"applyUserRequest":if(i.request!="maxbet"&&typeof i.noChangeAllowed!="undefined"&&i.noChangeAllowed){var u=i.request=="linesplus"||i.request=="linesminus"?"lines":"linebet",a={display:[{type:u,value:!1}]};o.push({type:"response",data:a})}else o.push({type:"request",action:r,data:loadVars(i)});break;case"hideInfoSite":var a={display:[{type:r,value:i}]};o.push({type:"response",data:a});break;case"showHistoryPage":var a={display:[{type:r,value:!1}]};o.push({type:"response",data:a});break;case"noGamble":if(typeof i.enforceNextAction=="undefined")console.error('translator->encode received action "noGamble" but no parameter "data.enforceNextAction"');else if(i.enforceNextAction!="wait"){var a={display:[{type:"noGamble",value:{enforceNextAction:i.enforceNextAction}}]};o.push({type:"response",data:a})}else o.push({type:"request",action:"noGamble",data:loadVars(i)});break;case"getFGBonusSymbol":var a={display:[{type:"fgBonusSymbol",value:e}]};o.push({type:"response",data:a});break;case"startWinRepeater":var a={display:[{type:"startWinRepeater",value:t}]};o.push({type:"response",data:a});break;case"updateBalanceData":break;default:o.push({type:"request",action:r,data:loadVars(i)})}return o},this.decode=function(r){var i=unserialize(r);if(typeof i!="object")return console.log("Translator->decode failed - decoding did not create a javascript object"),i;if(typeof i.display!="undefined")for(var s in i.display){var o=i.display[s];if(o.type=="initFailed"&&n)return n(),!1;o.type=="spinresult"&&(e=o.value.bonusSymbol,typeof o.value.winRepeater!="undefined"&&(t=o.value.winRepeater))}else typeof i.initData!="undefined"&&(i.initData.startFreegame=!0);return i}};