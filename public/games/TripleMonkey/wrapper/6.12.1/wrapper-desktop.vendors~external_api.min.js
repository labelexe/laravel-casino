(window.webpackJsonp1554303003151=window.webpackJsonp1554303003151||[]).push([[7],{72:function(t,e,n){"use strict";var i;n.r(e),function(t){t[t.SLOT=0]="SLOT",t[t.TABLE=1]="TABLE",t[t.UNKNOWN=2]="UNKNOWN"}(i||(i={}));var o=function(){function t(){}return t.afterDecorator=function(t,e){return function(n){return function(){var i=n.apply(this,arguments);return t.apply(e||this,arguments),i}}},t.beforeDecorator=function(t,e){return function(n){return function(){return t.apply(e||this,arguments),n.apply(this,arguments)}}},t.overrideFunction=function(t,e,n){t[e]=n(t[e])},t}(),s={GAME_API_INITIALIZED:"ExternalEvent.GAME_API_INITIALIZED",GAME_LOADING_PROGRESS:"ExternalEvent.GAME_LOADING_PROGRESS",GAME_LOADED:"ExternalEvent.GAME_LOADED",GAME_LAZY_ASSETS_LOADED:"ExternalEvent.GAME_LAZY_ASSETS_LOADED",ROUND_STARTED:"ExternalEvent.ROUND_STARTED",ROUND_ENDED:"ExternalEvent.ROUND_ENDED",PLAY_CLICKED:"ExternalEvent.PLAY_CLICKED",REELS_STARTED:"ExternalEvent.REELS_STARTED",REELS_STOPPED:"ExternalEvent.REELS_STOPPED",TURBO_ON:"ExternalEvent.TURBO_ON",TURBO_OFF:"ExternalEvent.TURBO_OFF",AUTO_PLAY_STARTED:"ExternalEvent.AUTO_PLAY_STARTED",AUTO_PLAY_STOPPED:"ExternalEvent.AUTO_PLAY_STOPPED",PAYTABLE_OPENED:"ExternalEvent.PAYTABLE_OPENED",PAYTABLE_CLOSED:"ExternalEvent.PAYTABLE_CLOSED",BET_CHANGED:"ExternalEvent.BET_CHANGED",WIN_ANIMATION_STARTED:"ExternalEvent.WIN_ANIMATION_STARTED",WIN_ANIMATION_STOPPED:"ExternalEvent.WIN_ANIMATION_STOPPED",FEATURE_STARTED:"ExternalEvent.FEATURE_STARTED",FEATURE_ENDED:"ExternalEvent.FEATURE_ENDED"},a={AnticipationModel:"AnticipationModel",EventDispatcher:"EventDispatcher",RenderManager:"RenderManager",UserModel:"UserModel",TurboModeModel:"TurboModeModel",AutoSpinsModel:"AutoSpinsModel",SpinComponentModel:"SpinComponentModel",SoundManager:"SoundManager",StakesModel:"StakesModel",SlotModel:"SlotModel",GameDataModel:"GameDataModel",BetHelper:"BetHelper",ServerService:"ServerService",UIModel:"UIModel",FeaturesModel:"FeaturesModel",LoadManager:"LoadManager"},r="InternalEvent.SKIP_ANTICIPATION",c="InternalEvent.SERVER_RESPONSE",p="init",E=function(){function t(){this.serverServiceBlackList=["WuShiJpServerService"]}return t.prototype.initialize=function(t){var e=this;this.api=t,this.roundEnded=!0,this.uiModel=this.api.context.getGameClassInstance(a.UIModel),this.uiModel?this.uiStateChangeEventName="UI_STATE_CHANGE":this.uiStateChangeEventName="CHANGE_UI";var n=this.api.context.getGameClassInstance(a.ServerService,function(t,n){return t.indexOf(n)>-1&&-1===e.serverServiceBlackList.indexOf(t)});n&&n.spin&&(o.overrideFunction(n,"spin",o.beforeDecorator(this.processSpinStart,this)),this.api.addListener(c,this.processResponse,this))},t.prototype.processSpinStart=function(){this.roundEnded&&(this.roundEnded=!1,this.responseRoundEnded=!1,this.api.removeListener(this.uiStateChangeEventName,this.onUIStateChange,this),this.api.dispatchEvent(s.ROUND_STARTED))},t.prototype.processResponse=function(t){t.result.request===p?(this.roundEnded=this.responseRoundEnded=t.roundEnded,this.roundEnded||this.api.addListener(s.PLAY_CLICKED,this.onPlayClicked,this)):(this.responseRoundEnded=t.result.roundEnded,!this.roundEnded&&this.responseRoundEnded&&this.api.addListener(this.uiStateChangeEventName,this.onUIStateChange,this))},t.prototype.onPlayClicked=function(){this.api.removeListener(s.PLAY_CLICKED,this.onPlayClicked,this),this.api.dispatchEvent(s.ROUND_STARTED)},t.prototype.onUIStateChange=function(t){var e=this,n=t;!n&&this.uiModel&&(n=this.uiModel.getState()),n&&this.responseRoundEnded&&n.spin&&n.spin.enabled&&("SpinComponentState.SPIN"===n.spin.mode||"spin"===n.spin.mode||"SpinButtonState.SPIN"===n.spin.mode)&&Promise.resolve().then(function(){return e.finishRound()})},t.prototype.finishRound=function(){this.roundEnded=!0,this.api.removeListener(this.uiStateChangeEventName,this.onUIStateChange,this),this.api.dispatchEvent(s.ROUND_ENDED)},t}(),d=function(){function t(){}return t.prototype.initialize=function(t){var e=this;this.api=t,window.addEventListener("message",function(t){e.displayMessage(t.data)},!1)},t.prototype.displayMessage=function(t){switch(console.log(t),t.type){case"updateBalance":this.api.setBalance(t.value);break;case"play":this.api.playButtonClick();break;case"spin":this.api.spin();break;case"pause":this.api.pause();break;case"unpause":this.api.unpause();break;case"10auto":this.api.setAutoSpins(10,!1);break;case"until":this.api.setAutoSpins(0,!0);break;case"resetAuto":this.api.resetAutoSpins();break;case"showPaytable":this.api.showPaytable();break;case"hidePaytable":this.api.hidePaytable();break;case"turboON":this.api.setTurboMode(!0);break;case"turboOff":this.api.setTurboMode(!1);break;case"increaseBet":this.api.increaseBet();break;case"decreaseBet":this.api.decreaseBet();break;case"dispatchEvent":this.api.dispatchEvent(t.value);break;default:console.warn("ExternalAPI.displayMessage(): Unknown type of command ["+t.type+"] is received")}},t}(),h=function(){function t(){}return t.prototype.initialize=function(t){if(this.logEventsEnabled){var e=t.context.dispatcher.emit?"emit":"dispatch";o.overrideFunction(t.context.dispatcher,e,o.beforeDecorator(this.logEventData))}},t.prototype.logEventData=function(){"RENDER"!==arguments[0]&&console.log("%c"+arguments[0],"background: red",arguments[1])},Object.defineProperty(t.prototype,"logEventsEnabled",{get:function(){var t=new URLSearchParams(window.location.search).get("logExternalEvents");return Boolean(t)},enumerable:!0,configurable:!0}),t}(),u=function(){function t(t){this.context=t,this.injections=this.context.kernel.mappingsMap.getAll().toArray(),this.context.gameInitSettings?this.gameID=this.context.gameInitSettings.gameSettingsConfig.ID:this.gameID=this.context.slotSettings.slotSettingsData.ID,this.dispatcher=this.getGameClassInstance(a.EventDispatcher),this.autoSpinsModel=this.getGameClassInstance(a.AutoSpinsModel),this.spinComponentModel=this.getGameClassInstance(a.SpinComponentModel),this.renderManager=this.getGameClassInstance(a.RenderManager),this.userModel=this.getGameClassInstance(a.UserModel),this.stakesModel=this.getGameClassInstance(a.StakesModel),this.slotModel=this.getGameClassInstance(a.SlotModel),this.gameDataModel=this.getGameClassInstance(a.GameDataModel),this.betHelper=this.getGameClassInstance(a.BetHelper),this.turboModeModel=this.getGameClassInstance(a.TurboModeModel),this.soundManager=this.getGameClassInstance(a.SoundManager)}return t.prototype.getGameClassInstance=function(t,e){void 0===e&&(e=this.validate);for(var n=this.injections.length-1;n>=0;n--){var i=this.injections[n],o=null;if(i.instance?o=i.instance.constructor.name:i.instanceResultConstructor?o=i.instanceResultConstructor.name:i.instanceBindedConstructor&&(o=i.instanceBindedConstructor.name),o&&e(o,t))return i.getInstance()}return null},t.prototype.validate=function(t,e){return t.indexOf(e)>-1},t.prototype.bindGameEventsToExternalEvent=function(t,e){var n=this;this.isValid()&&t.forEach(function(t){n.dispatcher.addListener(t,function(t){return n.redispatchEvent(e,t)},n)})},t.prototype.redispatchEvent=function(t,e){e?this.dispatcher.dispatch(t,e):this.dispatcher.dispatch(t)},t.prototype.isValid=function(){return!!this.dispatcher},t}(),l=n(1),A=function(){function t(t){this._isGameLoaded=!1,this.context=t,this.addListener(s.GAME_LOADED,this.onGameLoaded,this)}return t.prototype.isGameLoaded=function(){return this._isGameLoaded},t.prototype.pause=function(){this.context.ticker.stop(),this.disableAudio(),this.context.renderManager.objectToRender&&(this.context.pausedRenderObject=this.context.renderManager.objectToRender,this.context.renderManager.objectToRender=null)},t.prototype.unpause=function(){this.context.ticker.start(),this.enableAudio(),this.context.renderManager.objectToRender=this.context.pausedRenderObject},t.prototype.disableAudio=function(){this.context.dispatcher.dispatch("MUTE",!0),this.context.soundManager.setSoundsMute&&this.context.soundManager.setSoundsMute(!0)},t.prototype.enableAudio=function(){this.context.dispatcher.dispatch("MUTE",!1),this.context.soundManager.setSoundsMute&&this.context.soundManager.setSoundsMute(!1)},t.prototype.playButtonClick=function(){this.context.dispatcher.dispatch("CommonEvent.PLAY_CLICK"),this.context.dispatcher.dispatch("Event.PLAY_CLICK"),this.context.dispatcher.dispatch("PLAY_CLICK"),this.context.dispatcher.dispatch("playBtn_clicked_mediator")},t.prototype.showPaytable=function(){this.context.dispatcher.dispatch("SHOW_PAYTABLE"),this.context.dispatcher.dispatch("GameRunEvents.SHOW_PAYTABLE","paytable_group"),this.context.dispatcher.dispatch("UIControlsEvent.INFO_BUTTON_CLICK")},t.prototype.hidePaytable=function(){this.context.dispatcher.dispatch("HIDE_PAYTABLE"),this.context.dispatcher.dispatch("GameRunEvents.HIDE_PAYTABLE"),this.context.dispatcher.dispatch("MainSceneEvents.HIDE_PAYTABLE"),this.context.dispatcher.dispatch("PaytableEvents.HIDE_PAYTABLE")},t.prototype.setBalance=function(t){this.context.userModel.balance=t,this.context.context.updateViewBalance?this.context.context.updateViewBalance(t):this.context.dispatcher.dispatch("UPDATE_VIEW_BALANCE")},t.prototype.getBalance=function(){return this.context.userModel.balance},t.prototype.getCurrency=function(){return this.context.userModel.currency},t.prototype.getCurrencySymbol=function(){return this.context.userModel.currencySign},t.prototype.increaseBet=function(){this.context.stakesModel.increaseStake()},t.prototype.decreaseBet=function(){this.context.stakesModel.decreaseStake()},t.prototype.getCoinValue=function(){return this.context.stakesModel.currentStakeValue},t.prototype.getTotalBet=function(){return this.context.betHelper?this.context.betHelper.getTotalBet():this.context.stakesModel.getTotalBet()},t.prototype.getAvailableCoins=function(){return this.context.stakesModel.stakes},t.prototype.getCurrentBetsIndex=function(){return this.context.stakesModel.currentStakeIndex},t.prototype.dispatchEvent=function(t,e){this.context&&this.context.dispatcher&&this.context.dispatcher.dispatch(t,e)},t.prototype.addListener=function(t,e,n){this.context&&this.context.dispatcher&&this.context.dispatcher.addListener(t,e,n)},t.prototype.removeListener=function(t,e,n){this.context&&this.context.dispatcher&&this.context.dispatcher.removeListener(t,e,n)},t.prototype.getTotalWin=function(){return this.context&&this.context.gameDataModel?this.context.gameDataModel.totalWinning:(console.error('"getTotalWin" is not available for current game or GameAPI implementation'),-1)},t.prototype.onGameLoaded=function(){this.removeListener(s.GAME_LOADED,this.onGameLoaded,this),this._isGameLoaded=!0},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.autoSpinStartTimeout=500,e}return l.d(e,t),e.prototype.setAutoSpins=function(t,e){var n=this;this.clearAutoSpinWaiting(),this.addListener(s.REELS_STARTED,this.onSpinStarted,this),this.autoSpinStartTimeoutID=window.setTimeout(function(){n.clearAutoSpinWaiting(),n.spin()},this.autoSpinStartTimeout),this.context.autoSpinsModel.activate(t,e)},e.prototype.clearAutoSpinWaiting=function(){this.removeListener(s.REELS_STARTED,this.onSpinStarted,this),window.clearTimeout(this.autoSpinStartTimeoutID)},e.prototype.onSpinStarted=function(){this.clearAutoSpinWaiting()},e.prototype.resetAutoSpins=function(){this.clearAutoSpinWaiting(),this.context.autoSpinsModel.isActive&&(this.context.autoSpinsModel.deactivate(),this.context.dispatcher.dispatch("BottomBarEvent.STOP_AUTO_SPINS_CLICK"))},e.prototype.getAutoSpinsNumber=function(){return this.context.autoSpinsModel.autoSpinsCount},e.prototype.isUntilFeature=function(){return this.context.autoSpinsModel.isUntilFeature},e.prototype.getTotalBetDefaultStake=function(){var t=this.context.stakesModel,e=this.context.betHelper;if(e){var n=e.getTotalBet()/t.currentStakeValue;return t.stakeDefault*n}var i=t.anteBetCoinsCount?t.stakeDefault*t.anteBetCoinsCount:0;return t.stakeDefault*t.currentCoinsValue*t.totalBetMultiplier+i},e.prototype.getTotalBet=function(){var t=this.context.betHelper;return t?t.getTotalBet():this.context.stakesModel.getTotalBet()},e.prototype.spin=function(){this.context.dispatcher.dispatch("SPIN_CLICK"),this.context.dispatcher.dispatch("READY_TO_SPIN"),this.context.dispatcher.dispatch("BottomBarEvent.SPIN_CLICK"),this.context.dispatcher.dispatch("BottomBarEvent.READY_TO_SPIN"),this.context.dispatcher.dispatch("UIControlsEvent.SPIN_START_REQUESTED"),this.context.dispatcher.dispatch("UIControlsEvent.SPIN_COMPONENT_PRESSED"),this.context.dispatcher.dispatch("UIControlsEvent.SPIN_COMPONENT_RELEASED")},e.prototype.getTurboMode=function(){return this.context.turboModeModel.isActive},e.prototype.setTurboMode=function(t){this.context.turboModeModel.canBeActive=t},e.prototype.skipAnticipation=function(){this.context.dispatcher.dispatch(r)},e.prototype.isAutoSpinsActive=function(){return this.context.autoSpinsModel.isActive},e.prototype.isContinuousSpinsActive=function(){return this.context.spinComponentModel&&this.context.spinComponentModel.isContinuousSpin},e}(A),_=function(){function t(){}return t.create=function(t,e){var n=new u(t);switch(n.gameType=e,e){case i.SLOT:return new S(n);default:return new A(n)}},t}(),T=function(){function t(){}return t.prototype.initialize=function(t){this.api=t,this.bindLoadingEvents(),this.bindPlayButtonClickEvents(),this.bindReelsEvents(),this.bindTurboModeEvents(),this.bindAutoPlayModeEvents(),this.bindPaytableEvents(),this.bindStakeChangeEvents(),this.bindWinAnimationEvents()},t.prototype.bindLoadingEvents=function(){var t=this;this.api.context.bindGameEventsToExternalEvent(["CommonEvent.GAME_LOADING","Event.GAME_LOADING","GAME_LOADING"],s.GAME_LOADING_PROGRESS),this.api.context.bindGameEventsToExternalEvent(["CommonEvent.GAME_LOADED","Event.GAME_LOADED","GAME_LOADED"],s.GAME_LOADED);var e=this.api.context.getGameClassInstance(a.LoadManager);if(e&&void 0!==e.onLazyAssetsLoaded)e.onLazyAssetsLoaded.then(function(){t.api.dispatchEvent(s.GAME_LAZY_ASSETS_LOADED)});else{var n=function(){t.api.removeListener(s.GAME_LOADED,n,t),t.api.dispatchEvent(s.GAME_LAZY_ASSETS_LOADED)};this.api.addListener(s.GAME_LOADED,n,this)}},t.prototype.bindPlayButtonClickEvents=function(){this.api.context.bindGameEventsToExternalEvent(["CommonEvent.PLAY_CLICK","Event.PLAY_CLICK","PLAY_CLICK","playBtn_clicked_mediator"],s.PLAY_CLICKED)},t.prototype.bindReelsEvents=function(){this.api.context.bindGameEventsToExternalEvent(["SlotEvent.REELS_SPIN_STARTED","Event.REELS_SPIN_STARTED","REELS_SPIN_STARTED"],s.REELS_STARTED),this.api.context.bindGameEventsToExternalEvent(["SlotEvent.REELS_SPIN_STOPPED","Event.REELS_SPIN_STOPPED","REELS_SPIN_STOPPED"],s.REELS_STOPPED)},t.prototype.bindTurboModeEvents=function(){var t=this;this.api.addListener("TURBO_MODE_CHANGE",function(){t.api.getTurboMode()?t.api.dispatchEvent(s.TURBO_ON):t.api.dispatchEvent(s.TURBO_OFF)},this)},t.prototype.bindAutoPlayModeEvents=function(){var t=this;this.api.context.bindGameEventsToExternalEvent(["AUTO_SPINS_ACTIVATE"],s.AUTO_PLAY_STARTED),this.api.context.bindGameEventsToExternalEvent(["AUTO_SPINS_DEACTIVATE"],s.AUTO_PLAY_STOPPED),this.api.addListener("AUTO_SPINS_STATE_CHANGE",function(e){0===e?t.api.dispatchEvent(s.AUTO_PLAY_STARTED):t.api.dispatchEvent(s.AUTO_PLAY_STOPPED)},this)},t.prototype.bindPaytableEvents=function(){var t=this;this.api.context.bindGameEventsToExternalEvent(["GameRunEvents.PAYTABLE_SHOWN","PaytableEvents.PAYTABLE_SHOWN","PAYTABLE_SHOWN","paytableOpen","PAYTABLE_OPENED"],s.PAYTABLE_OPENED),this.api.context.bindGameEventsToExternalEvent(["GameRunEvents.PAYTABLE_HIDDEN","PaytableEvents.PAYTABLE_HIDDEN","PAYTABLE_HIDDEN","paytableClose","PAYTABLE_CLOSED"],s.PAYTABLE_CLOSED),this.api.addListener("PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE",function(e){!0===e?t.api.dispatchEvent(s.PAYTABLE_OPENED):t.api.dispatchEvent(s.PAYTABLE_CLOSED)},this)},t.prototype.bindStakeChangeEvents=function(){var t=this;this.api.addListener("STAKES_CHANGE",function(){t.api.dispatchEvent(s.BET_CHANGED,t.api.getTotalBet())},this),this.api.addListener("StakesModelEvent.STAKES_CHANGE",function(){t.api.dispatchEvent(s.BET_CHANGED,t.api.getTotalBet())},this)},t.prototype.bindWinAnimationEvents=function(){this.api.context.bindGameEventsToExternalEvent(["TICKUP_STARTED","BIG_WIN_INIT_ANIMATION","BigWinEvents.BIG_WIN_INIT_ANIMATION","WinBoxEvents.SHOW_WIN_AMOUNT","Mark4WinBoxEvents.SHOW_WIN_AMOUNT","WinBoxEvent.TICKUP_STARTED","SHOW_WIN_AMOUNT"],s.WIN_ANIMATION_STARTED),this.api.context.bindGameEventsToExternalEvent(["TICKUP_ENDED","BIG_WIN_ANIMATION_COMPLETE","BigWinEvents.BIG_WIN_ANIMATION_COMPLETE","Mark4WinBoxEvents.WIN_TICKUP_COMPLETE","WinBoxEvent.WIN_TICKUP_COMPLETE","WinBoxEvents.WIN_TICKUP_COMPLETE","WinBoxEvent.TICKUP_ENDED","COUNT_UP_COMPLETE"],s.WIN_ANIMATION_STOPPED)},t}(),v="BigWinEvents.BIG_WIN_HAS_BEEN_WON_ANALYTICS",I="BigWinEvents.BIG_WIN_HAS_BEEN_SKIPPED_ANALYTICS",M="BigWinEvents.MEGA_WIN_HAS_BEEN_WON_ANALYTICS",f="BigWinEvents.MEGA_WIN_HAS_BEEN_SKIPPED_ANALYTICS",L=function(){function t(){}return t.prototype.initialize=function(t){[v,I,M,f].forEach(function(e){t.addListener(e,function(){return t.wrapperAPI.addToAnalyticsLog(e)})})},t}(),D=function(){function t(){}return t.prototype.initialize=function(t){this.api=t,this.anticipationModel=this.api.context.getGameClassInstance(a.AnticipationModel),this.api.addListener(r,this.skipAnticipation,this)},t.prototype.skipAnticipation=function(){var t;(t=this.api.context.context.slotParameters?this.api.context.context.slotParameters:this.api.context.slotModel.getSlotConfig()).anticipation&&t.anticipation.symbols&&(this.anticipationModel&&this.anticipationModel.anticipationConfig?(this.anticipationConfig=this.copyObject(this.anticipationModel.anticipationConfig),this.anticipationModel.anticipationConfig.symbols={},this.anticipationModel.anticipationConfig.animation.time=1e-6,this.anticipationModel.anticipationConfig.animation.turboTime=1e-6,this.api.addListener(s.ROUND_ENDED,this.roundEndedHandler,this)):console.log("Game doesn't contain AnticipationModel!!! skipAnticipation doesn't implemented for such games"))},t.prototype.roundEndedHandler=function(){this.api.removeListener(s.ROUND_ENDED,this.roundEndedHandler),this.anticipationModel&&this.anticipationModel.anticipationConfig?(this.anticipationModel.anticipationConfig.symbols=this.copyObject(this.anticipationConfig.symbols),this.anticipationModel.anticipationConfig.animation=this.copyObject(this.anticipationConfig.animation)):console.log("Game doesn't contain AnticipationModel!!! skipAnticipation doesn't implemented for such games")},t.prototype.copyObject=function(t){return JSON.parse(JSON.stringify(t))},t}(),C=function(){function t(){this.clickToStartShown=!1,this.featureInProgress=!1}return t.prototype.initialize=function(t){this.api=t,this.uiModel=this.api.context.getGameClassInstance(a.UIModel),this.uiModel?this.uiStateChangeEventName="UI_STATE_CHANGE":this.uiStateChangeEventName="CHANGE_UI",this.api.addListener(this.uiStateChangeEventName,this.onUIStateChange,this),this.api.addListener(c,this.processResponse,this)},t.prototype.processResponse=function(t){this.api.removeListener(c,this.processResponse,this),t.result.request!==p||t.roundEnded||this.api.addListener(s.PLAY_CLICKED,this.onPlayClicked,this)},t.prototype.onPlayClicked=function(){this.api.removeListener(s.PLAY_CLICKED,this.onPlayClicked,this),this.handleFeatureStart()},t.prototype.onUIStateChange=function(t){var e=t;!e&&this.uiModel&&(e=this.uiModel.getState()),e.spin&&(this.clickToStartShown?this.isClickToStart(e.spin)||(this.handleFeatureStart(),this.clickToStartShown=!1):e.spin.enabled&&this.isClickToStart(e.spin)&&(this.clickToStartShown=!0))},t.prototype.isClickToStart=function(t){return"SpinComponentState.CLICK_TO_START"===t.mode||"clickToStart"===t.mode||"SpinButtonState.CLICK_TO_START"===t.mode},t.prototype.handleFeatureStart=function(){this.featureInProgress||(this.featureInProgress=!0,this.api.dispatchEvent(s.FEATURE_STARTED),this.api.addListener(s.ROUND_ENDED,this.onRoundEnded,this))},t.prototype.onRoundEnded=function(){this.featureInProgress=!1,this.api.removeListener(s.ROUND_ENDED,this.onRoundEnded,this),this.api.dispatchEvent(s.FEATURE_ENDED)},t}(),N=function(){function t(){}return t.prototype.initialize=function(t){this.api=t;var e=this.api.context.getGameClassInstance(a.ServerService);e&&o.overrideFunction(e,"processResponse",o.beforeDecorator(this.processResponse,this))},t.prototype.processResponse=function(){var t=arguments[0];this.api.dispatchEvent(c,t)},t}();n.d(e,"ExternalAPI",function(){return P});var P=function(){function t(){}return t.initialize=function(e,n){var o=_.create(e,i.SLOT);o.context.ticker=n,o.context.isValid()&&(window[t.GAME_API_KEY]=o,t.addModules(),t.MODULES.forEach(function(t){return t.initialize(o)}),window.postMessage(s.GAME_API_INITIALIZED,"*"))},t.addModules=function(){t.registerModule(new N),t.registerModule(new E),t.registerModule(new T),t.registerModule(new L),t.registerModule(new D),t.registerModule(new C),t.registerModule(new d,!0),t.registerModule(new h,!0)},t.registerModule=function(e,n){void 0===n&&(n=!1),n||t.MODULES.push(e)},t.GAME_API_KEY="GameAPI",t.SW_CONTEXT_KEY="swContext",t.MODULES=[],t}(),g=Date.now(),x=window.setInterval(function(){window[P.SW_CONTEXT_KEY]?(clearInterval(x),P.initialize(window[P.SW_CONTEXT_KEY].context,window[P.SW_CONTEXT_KEY].PIXI.ticker.shared)):Date.now()-g>3e5&&clearInterval(x)},100)}}]);